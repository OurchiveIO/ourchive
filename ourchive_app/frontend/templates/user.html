{% extends 'index.html' %}
{% block content %}	
{% if anchor %}
<script>
    window.onload = function(){
        const anchor_val = '{{anchor}}';
        window.location = '#'+anchor_val;
        show_val = anchor_val.includes("work") ? 0 : 1;
        UIkit.switcher(document.getElementById("user_content_switcher_header")).show(show_val);
    };
</script>
{% endif %}
<div class="uk-width-1" id="user-profile-parent">
    <div class="uk-text-right uk-width-1" id="user-profile-controls-parent">
        {% if user.username == request.user.username %}
            <a id="user-profile-edit-link" href="/username/{{ user.username }}/edit"><span uk-icon="icon: file-edit" title="Edit"></span> </a>
            <a id="user-profile-blocklist-link" href="/users/{{ user.username }}/blocklist"><span uk-icon="icon: ban" title="Blocklist"></span> </a>
        {% else %}
            <a id="user-block-link" href="/users/{{ user.display_username|default_if_none:user.username }}/block"><span uk-icon="icon: ban" title="Block"></span> </a>
        {% endif %}
    </div>
	<div class="uk-width-1 uk-align-center" id="user-profile-card-parent">
        <div class="uk-card uk-card-body" id="user-profile-card-body"> 
            {% if user.icon and user.icon != "None" %} <img id="user-profile-icon" src="{{ user.icon }}" class="uk-align-center uk-height-max-small" style="border-radius: 50%"/> {% endif %}
            <h1 id="user-profile-username-h1" class="uk-heading-line uk-text-center"> <span id="user-profile-username-span">{{ user.username }}</span> </h1> 
        </div>
        {% if user.profile %}
            <div class="uk-card uk-card-body uk-align-center" id="user-profile-text-parent">
                <h2 id="user-profile-text-h2"> Profile </h2>
                <span id="user-profile-text-span">{% autoescape off %} {{ user.profile }} {% endautoescape %}</span> 
            </div>
        {% endif %}
        {% if user.attributes %}
            <hr class="uk-margin-medium" id="user-attributes-hr"/>
            {% include "object_attributes.html" with object='user' object_id=user.id attributes=user.attributes %}
            <hr class="uk-margin-medium" id="user-attributes-lower-hr"/>
        {% endif %}
        <ul class="uk-subnav uk-subnav-pill" uk-switcher="active: {% if user.default_content == 'Work' %}0{% else %}1{% endif %}" id="user_content_switcher_header">
            <li><a href="#" id="user_works_selector">Works</a></li>
            <li><a href="#" id="user_bookmarks_selector">Bookmarks</a></li>
        </ul>
        <ul class="uk-switcher uk-margin" id="user_content_switcher">
            <li id="work_tab">
                {% include "works_list.html" with works=works root=root username=username next=works_next previous=works_previous include_header=False %} 
            </li>
            <li id="bookmark_tab">
                {% include "bookmarks_list.html" with bookmarks=bookmarks next=bookmarks_next previous=bookmarks_previous include_header=False %}
            </li>
        </ul>
    </div>
</div>
{% endblock %}